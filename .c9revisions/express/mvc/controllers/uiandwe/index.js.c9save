{"ts":1361073945976,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var db = require('../../db');\r\n\r\n\r\nexports.engine = 'jade';\r\n\r\nexports.before = function(req, res, next){\r\n  //url 에서 선택한 숫자를 db에서 찾아서 객체로 넘김.\r\n  var uiandwe = db.uiandwe[req.params.uiandwe_id];\r\n  uiandwe.id = req.params.uiandwe_id;\r\n  if (!uiandwe) return next(new Error('uiandwe not found'));\r\n  //객체를 다시 req에 담아서 다음 함수로 넘김.\r\n  req.uiandwe = uiandwe;\r\n  next();\r\n};\r\n\r\n\r\n//   /uiandwe/:_id (0~1)\r\nexports.show = function(req, res, next){\r\n  res.render('show', { uiandwe: req.uiandwe });\r\n};\r\n\r\n//edit 페이지는 update 페이지와 연결시킴.\r\nexports.edit = function(req, res, next){\r\n  res.render('edit', { uiandwe: req.uiandwe });\r\n};\r\n\r\n//update 는 boot.js에서 put으로 파라미터를 받을때만 작동함.\r\nexports.update = function(req, res, next){\r\n  var body = req.body;\r\n  req.uiandwe.name = body.user.name;\r\n  res.message('Information updated!');\r\n  res.redirect('/uiandwe/' + req.uiandwe.id);\r\n};\r\n\r\n\r\n\r\n//   url페이지 이름(boot.js 에 추가해야함)\r\nexports.uiandwe = function(req, res, next){\r\n   // console.log(req.users);\r\n   //          jade이름,jade전달객체: 위에서 받은 객체(jade객체에 넣을 객체)\r\n   res.render('uiandwe', { users : db.users });  \r\n};"]],"start1":0,"start2":0,"length1":0,"length2":1092}]],"length":1092}
