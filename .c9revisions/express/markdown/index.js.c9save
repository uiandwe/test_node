{"ts":1360823297917,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1360823358498,"patch":[[{"diffs":[[1,"\r\n/**\r\n * Module dependencies.\r\n */\r\n\r\nvar express = require('express')\r\n  , fs = require('fs')\r\n  , md = require('github-flavored-markdown').parse;\r\n\r\nvar app = module.exports = express();\r\n\r\n// register .md as an engine in express view system\r\n\r\napp.engine('md', function(path, options, fn){\r\n  fs.readFile(path, 'utf8', function(err, str){\r\n    if (err) return fn(err);\r\n    try {\r\n      var html = md(str);\r\n      html = html.replace(/\\{([^}]+)\\}/g, function(_, name){\r\n        return options[name] || '';\r\n      })\r\n      fn(null, html);\r\n    } catch(err) {\r\n      fn(err);\r\n    }\r\n  });\r\n})\r\n\r\napp.set('views', __dirname + '/views');\r\n\r\n// make it the default so we dont need .md\r\napp.set('view engine', 'md');\r\n\r\napp.get('/', function(req, res){\r\n  res.render('index', { title: 'Markdown Example' });\r\n})\r\n\r\napp.get('/fail', function(req, res){\r\n  res.render('missing', { title: 'Markdown Example' });\r\n})\r\n\r\nif (!module.parent) {\r\n    app.listen(process.env.PORT); \r\n  console.log('Express started on port 3000');\r\n}"]],"start1":0,"start2":0,"length1":0,"length2":1024}]],"length":1024,"saved":false}
