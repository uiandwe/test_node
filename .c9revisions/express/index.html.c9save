{"ts":1360731553307,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1360731592999,"patch":[[{"diffs":[[1,"<!DOCTYPE html>\r\n\r\n<html>\r\n\r\n<head>\r\n\r\n    <meta charset='UTF-8' />\r\n\r\n\t<title>:::::NODE:::CHATTING:::::::</title>\r\n\r\n    <script src=\"http://code.jquery.com/jquery-1.7.1.min.js\"></script>\r\n\r\n\t<style type=\"text/css\">\r\n\r\n\t\tbody{margin:0;padding:0;}\r\n\r\n\t\t#wrap{ width:100%; height:100%; border:0px solid #aaa; }\r\n\r\n\t\t#wrap > header { background-color:#545765; border:1px solid #aaa }\r\n\r\n\t\t#wrap > header > h1{ font-size:1.0em; text-align:center; color:#FFF; }\r\n\r\n\t\t#wrap > section{height:100%; border:0px solid #F00}\r\n\r\n\t\t#wrap > footer{ background-color:#545765; border:1px solid #FFF; font-size:0.8em; color:#FFF; text-align:center; padding:5px 0; }\r\n\r\n\t\t#door{ width:100%; height:150px; }\r\n\r\n\t\t#door p{ margin:5px ; width:97%;}\r\n\r\n\t\t#uid{width:99%;}\r\n\r\n\t\t#enter{ border:1px solid #aaa; font-size:1.0em; background-color:#545765; color:#FFF; width:100%; height:50px; }\r\n\r\n\t\t#msg{ width:90%; height:300px; overflow-y:scroll; margin:auto; border:1px solid #aaa; }\r\n\r\n\t\t#chat{display:none;}\r\n\r\n\t\t#edit{ text-align:center; }\r\n\r\n\t\t#txt{ width:75%; }\r\n\r\n\t</style>\r\n\r\n\t<script type=\"text/javascript\" src='/socket.io/socket.io.js'></script>\r\n\r\n\t<script type=\"text/javascript\">\r\n\r\n\t$(function(){\r\n\r\n\t\tvar nick_name = '';\r\n\r\n\t\tvar socket = io.connect();\r\n\r\n\t\t$(\"#enter\").click(function(){\r\n\r\n\t\t\tnick_name = $('#uid').val();\r\n\r\n\t\t\tif(nick_name == \"\")\r\n\r\n\t\t\t{\r\n\r\n\t\t\t\talert('아이디를 입력하세요');\r\n\r\n\t\t\t}\r\n\r\n\t\t\telse\r\n\r\n\t\t\t{\r\n\r\n\t\t\t\tsocket.emit('systemIn',{\r\n\r\n\t\t\t\t\tname : nick_name\r\n\r\n\t\t\t\t});\r\n\r\n\r\n\r\n\r\n\t\t\t\t$(\"#door\").slideUp(200).delay(200,function(){\r\n\r\n\t\t\t\t\t$(\"#chat\").slideDown(200);\r\n\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\r\n\t\t\t\t\r\n\r\n\t\t});\r\n\r\n\r\n\r\n\t\tsocket.on('systemList',function(data){\r\n\r\n\t\t\t$(\"#nick_lst\").empty();\r\n\r\n\t\t\t$(\"#nick_lst\").append('<option value=\"poblic\">모두</option>');\r\n\r\n\t\t\tfor (var i in data) {\r\n\r\n\t\t\t\t$(\"#nick_lst\").append('<option value=\"'+data[i]+'\">'+data[i]+'</option>');\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\t\r\n\r\n\t\tsocket.on('systemIn',function(data){\r\n\r\n\t\t\t$('#msg').append('<dd>'+data.name+'님이 입장하셨습니다.</dd>');\r\n\r\n\t\t\tscrollDonw();\r\n\r\n\t\t});\r\n\r\n\r\n\r\n\t\tsocket.on('systemOut',function(data){\r\n\r\n\t\t\t$('#msg').append('<dd>'+data.name+'님이 퇴장하셨습니다.</dd>');\r\n\r\n\t\t\tscrollDonw();\r\n\r\n\t\t});\r\n\r\n\r\n\r\n\t\tsocket.on('message',function(data){\r\n\r\n\t\t\t$('#msg').append('<dt>'+data.name+' : </dt><dd>'+data.message+'</dd>');\r\n\r\n\t\t\tscrollDonw();\r\n\r\n\t\t});\r\n\r\n\r\n\r\n\t\t$(\"#txt\").keypress(function(ent){\r\n\r\n\t\t\tif(ent.which == 13){\r\n\r\n\t\t\t\t$(\"#input\").click();\r\n\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t\t\r\n\r\n\t\t$(\"#input\").bind('click',function(){\r\n\r\n\t\t\tsocket.emit('message',{\r\n\r\n\t\t\t\ttype : $(\"#nick_lst\").val(),\r\n\r\n\t\t\t\tname : nick_name,\r\n\r\n\t\t\t\tmessage : $(\"#txt\").val()\r\n\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#txt\").val('');\r\n\r\n\t\t});\r\n\r\n\t});\r\n\r\n\tfunction scrollDonw()\r\n\r\n\t{\r\n\r\n\t\t$(\"#msg\").animate({'scrollTop':$(\"#msg\")[0].scrollHeight},200);\r\n\r\n\t}\r\n\r\n\t</script>\r\n\r\n</head>\r\n\r\n<body>\r\n\r\n<section id=\"wrap\">\r\n\r\n\t<header>\r\n\r\n\t\t<h1>NODE.JS톡</h1>\r\n\r\n\t</header>\r\n\r\n\t<section>\r\n\r\n\t\t<div id=\"door\">\r\n\r\n\t\t\t<p style='margin-top:50px;'>※닉네임을 설정하여 주십시오.</p>\r\n\r\n\t\t\t<p>\r\n\r\n\t\t\t\t<input type=\"text\" name='uid' id=\"uid\" value=\"\" />\r\n\r\n\t\t\t</p>\r\n\r\n\t\t\t<p>\r\n\r\n\t\t\t\t<input type=\"button\" id='enter' value=\"입장하기\" /> \r\n\r\n\t\t\t</p>\r\n\r\n\t\t</div>\r\n\r\n\t\t<div id=\"chat\">\r\n\r\n\t\t\t<dl id=\"msg\">\r\n\r\n\t\t\t</dl>\r\n\r\n\t\t\t<div id=\"edit\">\r\n\r\n\t\t\t\t<select name=\"nick_lst\" id=\"nick_lst\">\r\n\r\n\t\t\t\t\t<option value=\"poblic\">모두</option>\r\n\r\n\t\t\t\t</select>\r\n\r\n\t\t\t\t<input type=\"text\" name=\"txt\" id=\"txt\" />\r\n\r\n\t\t\t\t<button id=\"input\">입력</button>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\r\n\t</section>\r\n\r\n\t<footer>\r\n\r\n\t\tFOOTER\r\n\r\n\t</footer>\r\n\r\n</section>\r\n\r\n</body>\r\n\r\n</html>"]],"start1":0,"start2":0,"length1":0,"length2":3494}]],"length":3494,"saved":false}
